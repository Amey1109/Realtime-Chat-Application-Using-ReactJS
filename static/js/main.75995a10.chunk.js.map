{"version":3,"sources":["components/MessageForm.js","components/MyMessage.js","components/ThereMessage.js","components/ChatFeed.js","components/Login.js","App.js","index.js"],"names":["MessageForm","props","useState","value","setValue","chatId","creds","handleSubmit","event","preventDefault","text","trim","length","sendMessage","className","onSubmit","placeholder","onChange","target","isTyping","htmlFor","PictureOutlined","type","multiple","id","style","display","files","SendOutlined","MyMessage","message","attachments","src","file","alt","class","float","marginRight","color","backgroundColor","ThereMessage","lastMessage","isFirstMessageByUser","sender","username","backgroundImage","avatar","marginLeft","ChatFeed","chats","activeChat","userName","messages","chat","renderReadReceipts","isMyMessage","people","map","person","index","last_read","title","onClick","localStorage","clear","window","location","reload","keys","Object","key","width","renderMessages","height","Login","setUsername","password","setPassword","Error","setError","e","a","authObject","axios","get","headers","setItem","required","align","App","getItem","projectID","userSecret","renderChatFeed","chatAppProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75995a10.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { sendMessage, isTyping } from \"react-chat-engine\";\nimport {SendOutlined,PictureOutlined} from \"@ant-design/icons\"\n\nfunction MessageForm(props) {\n  const [value, setValue] = useState(\"\");\n  const { chatId, creds } = props;\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const text = value.trim();\n    if (text.length > 0) sendMessage(creds, chatId, { text });\n    setValue('')\n  };\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    isTyping(props, chatId);\n  };\n\n  const handleUpload = (event)=>{\n    sendMessage(creds,chatId,{files:event.target.files,text:''})\n  }\n\n  return (\n    <form className=\"message-form\" onSubmit={handleSubmit}>\n      <input\n        className=\"message-input\"\n        placeholder=\"Send a Message\"\n        value={value}\n        onChange={handleChange}\n        onSubmit={handleSubmit}\n      />\n\n      <label htmlFor=\"upload-button\">\n        <span className=\"image-button\">\n        <PictureOutlined className=\"picture-icon\"/>\n        </span>\n      </label>\n      <input\n      type='file'\n      multiple={false}\n      id=\"upload-button\"\n      style={{display:\"none\"}}\n      onChange={handleUpload}\n      />\n      <button type=\"submit\" className=\"send-button\"><SendOutlined className=\"send-icon\"/></button>\n    </form>\n  );\n}\n\nexport default MessageForm;\n","import React from \"react\";\n\nfunction MyMessage({ message }) {\n  if (message?.attachments?.length > 0) {\n    return (\n      <img\n        src={message.attachments[0].file}\n        alt=\"message attachments\"\n        class=\"message-image\"\n        style={{ float: \"right\" }}\n      />\n    );\n  }\n\n  return (\n    <div\n      className=\"message\"\n      style={{\n        float: \"right\",\n        marginRight: \"18px\",\n        color: \"white\",\n        backgroundColor: \"#3B2A50\",\n      }}\n    >\n      {message.text}\n    </div>\n  );\n}\n\nexport default MyMessage;\n","import React from \"react\";\n\nfunction ThereMessage({ lastMessage, message }) {\n  const isFirstMessageByUser =\n    !lastMessage || lastMessage.sender.username !== message.sender.username;\n  return (\n    <div className=\"message-row\">\n      {isFirstMessageByUser && (\n        <div\n          className=\"message-avatar\"\n          style={{ backgroundImage: `url(${message?.sender?.avatar})` }}\n        />\n      )}\n      {message?.attachments?.length > 0 ? (\n        <img\n          src={message.attachments[0].file}\n          alt=\"message attachments\"\n          class=\"message-image\"\n          style={{ marginLeft: isFirstMessageByUser ? \"4px\" : \"48px\" }}\n        />\n      ) : (\n        <div\n          className=\"message\"\n          style={{\n            float: \"left\",\n            backgroundColor: \"#CABCDC\",\n            marginLeft: isFirstMessageByUser ? \"4px\" : \"48px\",\n          }}\n        >\n          {message.text}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ThereMessage;\n","import React from \"react\";\nimport MessageForm from \"./MessageForm\";\nimport MyMessage from \"./MyMessage\";\nimport ThereMessage from \"./ThereMessage\";\n\nfunction ChatFeed(props) {\n  const { chats, activeChat, userName, messages } = props;\n  const chat = chats && chats[activeChat];\n\n  const renderReadReceipts = (message, isMyMessage) => {\n    return chat.people.map(\n      (person, index) =>\n        person.last_read === message.id && (\n          <div\n            key={`read_${index}`}\n            className=\"read-receipt\"\n            style={{\n              float: isMyMessage ? \"right\" : \"left\",\n              backgroundImage: `url(${person?.person?.avatar})`,\n            }}\n          />\n        )\n    );\n  };\n\n  const renderMessages = () => {\n    const keys = Object.keys(messages);\n\n    return keys.map((key, index) => {\n      const message = messages[key];\n      const lastMessage = index === 0 ? null : keys[index - 1];\n      const isMyMessage = userName === message.sender.username;\n\n      return (\n        <div key={`message_${index}`} style={{ width: \"100%\" }}>\n          <div className=\"message-block\">\n            {isMyMessage ? (\n              <MyMessage message={message} />\n            ) : (\n              <ThereMessage\n                message={message}\n                lastMessage={messages[lastMessage]}\n              />\n            )}\n          </div>\n\n          <div\n            className=\"read-receipts\"\n            style={{\n              marginRight: isMyMessage ? \"18px\" : \"0px\",\n              marginLeft: isMyMessage ? \"0px\" : \"68px\",\n            }}\n          >\n            {renderReadReceipts(message, isMyMessage)}\n          </div>\n        </div>\n      );\n    });\n  };\n\n  if (!chat) return \"loading......\";\n\n  return (\n    <div className=\"chat-feed\">\n      <div className=\"chat-title-container\">\n        <div className=\"chat-title\">{chat.title}</div>\n        <button\n          className=\"button\"\n          onClick={() => {\n            localStorage.clear();\n            window.location.reload()\n          }}\n        >\n          Logout\n        </button>\n      </div>\n      {renderMessages()}\n      <div style={{ height: \"100px\" }} />\n\n      <div className=\"message-form-container\">\n        <MessageForm {...props} chatId={activeChat} />\n      </div>\n    </div>\n  );\n}\nexport default ChatFeed;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [Error, setError] = useState(\"\")\n  const handleSubmit =  async (e) => {\n    e.preventDefault();\n    const authObject = {\n      \"Project-ID\": \"26ecd057-b932-48fd-acd3-11589b7edab0\",\n      \"User-Name\": username,\n      \"User-Secret\": password,\n    };\n\n    try {\n      await axios.get(\"https://api.chatengine.io/chats\",{headers:authObject})\n      localStorage.setItem('username',username)\n      localStorage.setItem('password',password)\n      window.location.reload()\n    } catch (error) {\n      setError('Sorry! Incorrect credentials!!!!')\n    }\n  };\n  return (\n    <div className=\"wrapper\">\n      <div className=\"form\">\n        <h1 className=\"title\">Chat Application</h1>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            className=\"input\"\n            placeholder=\"Username\"\n            required\n            value={username}\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n          />\n\n          <input\n            type=\"password\"\n            className=\"input\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n          />\n\n          <div align=\"center\">\n            <button type=\"submit\" className=\"button\">\n              <span>Start Chatting</span>\n            </button>\n          </div>\n          <span className=\"error\">{Error}</span>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react'\nimport {ChatEngine} from 'react-chat-engine'\nimport './App.css'\nimport ChatFeed from \"./components/ChatFeed\"\nimport Login from './components/Login'\nfunction App() {\n    if (!localStorage.getItem('username')) return <Login/>\n    return (\n        \n            <ChatEngine\n            height = \"100vh\"\n            projectID= \"26ecd057-b932-48fd-acd3-11589b7edab0\"\n            userName = {localStorage.username}\n            userSecret = {localStorage.password}\n            renderChatFeed = {(chatAppProps)=> <ChatFeed {...chatAppProps}/>}\n            />\n        \n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from \"./App\"\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}